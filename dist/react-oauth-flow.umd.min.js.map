{"version":3,"file":"react-oauth-flow.umd.min.js","sources":["../src/utils/index.js","../node_modules/qs/lib/utils.js","../node_modules/qs/lib/formats.js","../node_modules/qs/lib/stringify.js","../node_modules/qs/lib/parse.js","../node_modules/qs/lib/index.js","../src/utils/fetch.js","../src/OauthReceiver/index.js","../src/OauthSender/index.js","../src/createOauthFlow/index.js"],"sourcesContent":["// @flow\nimport qs from 'qs';\nimport { fetch2 } from './fetch';\n\nfunction buildURL(url, params, paramsSerializer): string {\n  if (params == null) return url;\n\n  let serializedParams;\n\n  if (paramsSerializer != null) {\n    serializedParams = paramsSerializer(params);\n  } else {\n    serializedParams = qs.stringify(params);\n  }\n\n  if (!serializedParams) return url;\n  return `${url}${url.indexOf('?') < 0 ? '?' : '&'}${serializedParams}`;\n}\n\nexport { buildURL, fetch2 };\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    var obj;\n\n    while (queue.length) {\n        var item = queue.pop();\n        obj = item.obj[item.prop];\n\n        if (Array.isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n\n    return obj;\n};\n\nexports.arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nexports.merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = exports.arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = exports.merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = exports.merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nexports.assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nexports.decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nexports.encode = function encode(str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nexports.compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    return compactQueue(queue);\n};\n\nexports.isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nexports.isBuffer = function isBuffer(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats['default'];\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    var joined = keys.join(delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder);\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]') {\n            obj = [];\n            obj = obj.concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.ignoreQueryPrefix = options.ignoreQueryPrefix === true;\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","const defineStaticProp = (obj, key, value) => {\n  Object.defineProperty(obj, key, {\n    enumerable: false,\n    configurable: false,\n    writable: false,\n    value,\n  });\n\n  return obj;\n};\n\nexport function fetch2(url, opts) {\n  const request = fetch(url, opts);\n  return request\n    .then(response => {\n      if (!response.ok) throw response;\n      return response.json();\n    })\n    .catch(err =>\n      err.json().then(errJSON => {\n        const error = new Error(err.statusText);\n        defineStaticProp(error, 'response', err);\n        defineStaticProp(error.response, 'data', errJSON);\n        defineStaticProp(error, 'request', request);\n\n        throw error;\n      }),\n    );\n}\n","// @flow\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport qs from 'qs';\nimport { buildURL, fetch2 } from '../utils';\n\nexport class OauthReceiver extends React.Component {\n  static propTypes = {\n    tokenUrl: PropTypes.string.isRequired,\n    clientId: PropTypes.string.isRequired,\n    clientSecret: PropTypes.string.isRequired,\n    redirectUri: PropTypes.string.isRequired,\n    args: PropTypes.objectOf(\n      PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number,\n        PropTypes.bool,\n        PropTypes.object,\n      ]),\n    ),\n    location: PropTypes.shape({ search: PropTypes.string.isRequired }),\n    querystring: PropTypes.string,\n    onAuthSuccess: PropTypes.func,\n    onAuthError: PropTypes.func,\n    render: PropTypes.func,\n    tokenFetchArgs: PropTypes.shape({\n      method: PropTypes.string,\n    }),\n    component: PropTypes.element,\n    children: PropTypes.func,\n  };\n\n  static defaultProps = {\n    args: {},\n    location: null,\n    querystring: null,\n    onAuthSuccess: null,\n    onAuthError: null,\n    render: null,\n    tokenFetchArgs: {},\n    component: null,\n    children: null,\n  };\n\n  state = {\n    processing: true,\n    state: null,\n    error: null,\n  };\n\n  componentDidMount() {\n    this.getAuthorizationCode();\n  }\n\n  getAuthorizationCode = () => {\n    try {\n      const {\n        tokenUrl,\n        tokenFetchArgs,\n        clientId,\n        clientSecret,\n        redirectUri,\n        args,\n        onAuthSuccess,\n      } = this.props;\n\n      const queryResult = this.parseQuerystring();\n      const { error, error_description, code } = queryResult;\n      const state = JSON.parse(queryResult.state || null);\n      if (state) {\n        this.setState(() => ({ state }));\n      }\n\n      if (error != null) {\n        const err = new Error(error_description);\n        throw err;\n      }\n\n      const url = buildURL(`${tokenUrl}`, {\n        code,\n        grant_type: 'authorization_code',\n        client_id: clientId,\n        client_secret: clientSecret,\n        redirect_uri: redirectUri,\n        ...args,\n      });\n\n      const headers = new Headers({ 'Content-Type': 'application/json' });\n      const defaultFetchArgs = { method: 'POST', headers };\n      const fetchArgs = Object.assign(defaultFetchArgs, tokenFetchArgs);\n\n      fetch2(url, fetchArgs)\n        .then(response => {\n          const accessToken = response.access_token;\n\n          if (typeof onAuthSuccess === 'function') {\n            onAuthSuccess(accessToken, { response, state });\n          }\n\n          this.setState(() => ({ processing: false }));\n        })\n        .catch(err => {\n          this.handleError(err);\n          this.setState(() => ({ processing: false }));\n        });\n    } catch (error) {\n      this.handleError(error);\n      this.setState(() => ({ processing: false }));\n    }\n  };\n\n  handleError = error => {\n    const { onAuthError } = this.props;\n\n    this.setState(() => ({ error }));\n    if (typeof onAuthError === 'function') {\n      onAuthError(error);\n    }\n  };\n\n  parseQuerystring = () => {\n    const { location, querystring } = this.props;\n    let search;\n\n    if (location != null) {\n      search = location.search; // eslint-disable-line\n    } else if (querystring != null) {\n      search = querystring;\n    } else {\n      search = window.location.search; // eslint-disable-line\n    }\n\n    return qs.parse(search, { ignoreQueryPrefix: true });\n  };\n\n  render() {\n    const { component, render, children } = this.props;\n    const { processing, state, error } = this.state;\n\n    if (component != null) {\n      return React.createElement(component, { processing, state, error });\n    }\n\n    if (render != null) {\n      return render({ processing, state, error });\n    }\n\n    if (children != null) {\n      React.Children.only(children);\n      return children({ processing, state, error });\n    }\n\n    return null;\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { buildURL } from '../utils';\n\nexport class OauthSender extends React.Component {\n  static propTypes = {\n    authorizeUrl: PropTypes.string.isRequired,\n    clientId: PropTypes.string.isRequired,\n    redirectUri: PropTypes.string.isRequired,\n    state: PropTypes.objectOf(\n      PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number,\n        PropTypes.bool,\n        PropTypes.object,\n      ]),\n    ),\n    args: PropTypes.objectOf(\n      PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number,\n        PropTypes.bool,\n        PropTypes.object,\n      ]),\n    ),\n    render: PropTypes.func,\n    component: PropTypes.element,\n    children: PropTypes.func,\n  };\n\n  static defaultProps = {\n    state: null,\n    args: null,\n    render: null,\n    component: null,\n    children: null,\n  };\n\n  render() {\n    const {\n      authorizeUrl,\n      clientId,\n      redirectUri,\n      state,\n      args,\n      render,\n      component,\n      children,\n    } = this.props;\n\n    const url = buildURL(`${authorizeUrl}`, {\n      client_id: clientId,\n      redirect_uri: redirectUri,\n      response_type: 'code',\n      state: state ? JSON.stringify(state) : undefined,\n      ...(args || {}),\n    });\n\n    if (component != null) {\n      return React.createElement(component, { url });\n    }\n\n    if (render != null) {\n      return render({ url });\n    }\n\n    if (children != null) {\n      React.Children.only(children);\n      return children({ url });\n    }\n\n    return null;\n  }\n}\n","import * as React from 'react';\nimport { OauthReceiver } from '../OauthReceiver';\nimport { OauthSender } from '../OauthSender';\n\nexport function createOauthFlow(\n  { authorizeUrl, tokenUrl, clientId, clientSecret, redirectUri, appName } = {},\n) {\n  const Sender = props => (\n    <OauthSender\n      authorizeUrl={authorizeUrl}\n      clientId={clientId}\n      redirectUri={redirectUri}\n      {...props}\n    />\n  );\n\n  const Receiver = props => (\n    <OauthReceiver\n      tokenUrl={tokenUrl}\n      clientId={clientId}\n      clientSecret={clientSecret}\n      redirectUri={redirectUri}\n      appName={appName}\n      {...props}\n    />\n  );\n\n  return {\n    Sender,\n    Receiver,\n  };\n}\n"],"names":["buildURL","url","params","paramsSerializer","serializedParams","qs","stringify","indexOf","has","Object","prototype","hasOwnProperty","hexTable","array","i","push","toString","toUpperCase","exports","source","options","obj","plainObjects","create","length","target","Array","isArray","allowPrototypes","call","concat","mergeTarget","arrayToObject","forEach","item","merge","keys","reduce","acc","key","value","str","decodeURIComponent","replace","e","string","String","out","c","charCodeAt","charAt","queue","o","prop","refs","j","val","pop","compacted","compactQueue","constructor","isBuffer","percentTwenties","default","formatters","RFC1738","RFC3986","arrayPrefixGenerators","brackets","prefix","indices","repeat","toISO","Date","toISOString","defaults","delimiter","encode","encoder","utils","encodeValuesOnly","serializeDate","date","skipNulls","strictNullHandling","object","generateArrayPrefix","filter","sort","allowDots","formatter","values","objKeys","arrayLimit","decoder","decode","depth","parameterLimit","parseKeys","givenKey","child","segment","exec","parent","slice","index","chain","leaf","root","cleanRoot","parseInt","isNaN","parseArrays","parseObject","formats","parse","opts","assign","undefined","TypeError","ignoreQueryPrefix","isRegExp","tempObj","cleanStr","limit","Infinity","parts","split","part","bracketEqualsPos","pos","parseValues","newObj","compact","format","arrayFormat","joined","join","addQueryPrefix","defineStaticProp","defineProperty","OauthReceiver","getAuthorizationCode","this","props","component","render","children","state","processing","error","React","only","propTypes","PropTypes","isRequired","objectOf","oneOfType","number","bool","shape","search","func","element","defaultProps","_this2","tokenUrl","tokenFetchArgs","clientId","clientSecret","redirectUri","args","onAuthSuccess","queryResult","parseQuerystring","error_description","code","JSON","setState","Error","headers","Headers","Content-Type","request","fetch","then","response","ok","json","catch","err","statusText","errJSON","method","accessToken","access_token","handleError","onAuthError","location","querystring","window","OauthSender","authorizeUrl","appName","React.createElement"],"mappings":"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"}